(function(){"use strict";var t={2610:function(t,e,s){var o=s(8935),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",[s("router-view")],1)],1)},i=[],r={name:"App"},n=r,l=s(1001),c=(0,l.Z)(n,a,i,!1,null,null,null),d=c.exports,u=s(2809),h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"fill-height ma-0 pa-0",attrs:{fluid:""}},[o("v-navigation-drawer",{attrs:{height:"100%",permanent:"",color:"black",width:"250"}},[o("v-card",{staticClass:"rounded-0 pa-0",attrs:{width:"100%",color:"black"}},[o("v-row",{attrs:{"no-gutters":""}},[o("v-card",{staticClass:"mt-5 ml-5",attrs:{height:"25%",color:"black"}},[o("v-avatar",{attrs:{color:"blue"}},[o("span",{staticClass:"text-h5"},[t._v("AZ")])])],1),o("v-card",{staticClass:"pa-0 mt-5 ml-3",attrs:{height:"40%",color:"black"}},[o("p",{staticStyle:{color:"#fff"}},[t._v("Admin")]),o("p",{staticClass:"mt-n3",staticStyle:{color:"#fff"}},[t._v("Zazazazazaz")])]),o("v-card",{staticClass:"pa-0 mt-5 ml-3",attrs:{height:"40px",width:"50px",color:"black"}},[o("v-icon",{staticStyle:{height:"50px"},attrs:{dark:"",size:"x-large"},on:{click:t.logout}},[t._v(" login")])],1)],1)],1),o("v-card",{staticClass:"pa-3 ma-0 rounded-5",attrs:{flat:"",width:"100%",color:"black"}},[o("v-card",{staticClass:"pa-0 ma-0",attrs:{width:"100%",color:"green"}},[o("v-card",{staticClass:"pa-0 mt-0 scrolling rounded-3",attrs:{width:"100%",color:"white"}},[o("v-list",[o("v-list-item-group",{attrs:{mandatory:"",color:"indigo"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.items,(function(e,a){return o("v-list-item",{key:a,on:{click:function(s){return t.updateSelected(e)}}},[o("v-list-item-icon",[o("v-img",{attrs:{width:"30px",height:"20px",src:s(9030),cover:""}})],1),o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1),o("v-list-item-icon",[o("v-icon",{attrs:{color:"offline"==e.status?"red":"green"}},[t._v("circle")])],1)],1)})),1)],1)],1)],1)],1),o("v-card",{staticClass:"pa-3 ma-0 rounded-5",attrs:{width:"100%",color:"black"}},[o("v-card",{staticClass:"rounded-5",attrs:{width:"100%",height:"98%",color:"black"}},[o("p",{staticClass:"pt-1 ml-3",staticStyle:{color:"#fff"}},[t._v("Status")]),o("v-card",{staticClass:"mt-n3 pt-n3",attrs:{flat:"",width:"100%",color:"white"}},[o("v-card",{staticClass:"ml-3 pt-4",attrs:{flat:"",width:"90%",height:"90%",color:"white"}},[o("div",{staticClass:"bgg",attrs:{width:"100%",height:"100%"}},[o("v-card",{staticClass:"pa-0 ml-3 mt-n4 text-center",attrs:{width:"110px",color:"white",flat:""}},[o("span",{staticClass:"text-red"},[t._v("Rover Status.")])]),o("v-row",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{"no-gutters":""}},[o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" Rover No. ")])]),o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" "+t._s(t.namerover)+" ")])])],1),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v("Status.")])]),o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" "+t._s(t.StatusRover)+" ")])])],1),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v("Door.")])]),o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" "+t._s(t.DoorStatus)+" ")])])],1),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v("Battery.")])]),o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" "+t._s(t.Battery)+" ")])])],1),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" Velocity. ")])]),o("v-col",[o("p",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0"},[t._v(" "+t._s(t.Velocity)+" ")])])],1)],1)])],1)],1)],1),o("v-card",{attrs:{width:"100%",color:"black"}},[o("p",{staticClass:"pt-4 ml-3",staticStyle:{color:"#fff"}},[t._v("RoverMode")]),o("v-card",{staticClass:"pa-0 ma-3 mt-n4",staticStyle:{height:"140px"},attrs:{width:"90%",color:"black"}},[o("v-card",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{width:"100%",color:"black"}},[t.isActiveOpencontorl?o("v-btn",{staticClass:"pt-0 pa-0 mt-2 mb-1",attrs:{width:"75%",dark:"",color:1==this.isActiveDoor?"white":"green",outlined:1==this.isActiveDoor},on:{click:t.clickAuto}},[t._v(" "+t._s(1==this.isActiveDoor?"manual":"auto")+" ")]):t._e()],1),o("v-card",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{width:"100%",color:"black"}},[t.isActiveOpencontorl&&t.isActiveDoor?o("v-btn",{attrs:{width:"75%",color:"white",outlined:""},on:{click:t.clickDoor}},[t._v(" Door ")]):t._e()],1),o("v-card",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{width:"100%",color:"black"}},[t.isActiveOpencontorl&&t.isActiveDoor?o("v-btn",{staticClass:"pt-0 pa-0 mt-1",attrs:{width:"75%",color:1==this.isActiveJoy?"red":"green"},on:{click:t.clickJoy}},[t._v(" Joy ")]):t._e()],1),o("v-card",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{width:"100%",color:"black"}},[t.isActiveJoy?o("v-card",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{width:"75%",color:"red"}},[o("v-icon",{directives:[{name:"gamepad",rawName:"v-gamepad:button-a",value:t.pressedA,expression:"pressedA",arg:"button-a"},{name:"gamepad",rawName:"v-gamepad:button-a.released",value:t.releasedA,expression:"releasedA",arg:"button-a",modifiers:{released:!0}}],attrs:{width:"10px"}}),o("v-icon",{directives:[{name:"gamepad",rawName:"v-gamepad:button-x",value:t.pressedX,expression:"pressedX",arg:"button-x"},{name:"gamepad",rawName:"v-gamepad:button-x.released",value:t.releasedX,expression:"releasedX",arg:"button-x",modifiers:{released:!0}}],attrs:{type:"button",width:"20%"}}),o("v-icon",{directives:[{name:"gamepad",rawName:"v-gamepad:button-y",value:t.pressedY,expression:"pressedY",arg:"button-y"},{name:"gamepad",rawName:"v-gamepad:button-y.released",value:t.releasedY,expression:"releasedY",arg:"button-y",modifiers:{released:!0}}],attrs:{type:"button",width:"20%"}}),o("v-icon",{directives:[{name:"gamepad",rawName:"v-gamepad:button-b",value:t.pressedB,expression:"pressedB",arg:"button-b"},{name:"gamepad",rawName:"v-gamepad:button-b.released",value:t.releasedB,expression:"releasedB",arg:"button-b",modifiers:{released:!0}}],attrs:{type:"button",width:"20%"}}),o("v-icon",{directives:[{name:"gamepad",rawName:"v-gamepad:shoulder-left",value:t.aaaa,expression:"aaaa",arg:"shoulder-left"},{name:"gamepad",rawName:"v-gamepad:shoulder-left.released",value:t.aaaa,expression:"aaaa",arg:"shoulder-left",modifiers:{released:!0}}],attrs:{type:"button",width:"20%"},on:{click:t.aaaa}})],1):t._e()],1)],1)],1),o("v-card",{staticClass:"d-flex justify-center align-baseline pt-0 pa-0 ma-0",attrs:{width:"100%",color:"black"}},[o("v-card",{staticClass:"d-flex justify-center pt-0 pa-0 ma-0",attrs:{width:"70%",color:"black"}},[o("v-img",{staticClass:"FullPage",attrs:{src:s(2763),cover:""},on:{click:t.reloadPage}})],1)],1),o("v-card",{staticClass:"d-flex justify-center align-baseline pt-0 pa-0 ma-0",attrs:{width:"100%",color:"black"}},[o("v-card",{staticClass:"text-center mt-3",attrs:{width:"100%",color:"black"}},[o("p",{staticStyle:{color:"#fff"}},[t._v("v0.01")])])],1)],1),o("v-content",{staticClass:"fill-height"},[1==t.mapState?o("v-card",{staticClass:"rounded-0",attrs:{width:"100%",flat:"",height:"100%",color:"red"}},[o("v-card",{staticClass:"rounded-0 d-flex justify-center",attrs:{width:"100%",flat:"",height:"25%",color:"black"}},["started"==t.status?o("video",{ref:"videoStream",attrs:{autoplay:"autoplay",playsinline:"",width:"1280px",height:"240px"},domProps:{srcObject:t.stream}}):t._e()]),o("v-card",{staticClass:"rounded-0",attrs:{width:"100%",flat:"",height:"75%",color:"black"}},[o("Map",{attrs:{propNameRover:t.namerover}})],1)],1):t._e(),0==t.mapState?o("v-card",{staticClass:"rounded-0",attrs:{width:"100%",flat:"",height:"100%",color:"red"}},[o("v-card",{staticClass:"rounded-0",attrs:{width:"100%",flat:"",height:"100%",color:"black"}},[o("MapAll",{attrs:{propC:t.namerover}})],1)],1):t._e()],1)],1)},p=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"map-section"},[s("gmap-map",{staticStyle:{width:"100%",height:"100%"},attrs:{center:t.center,zoom:17,options:{zoomControl:!0,scaleControl:!0,mapTypeControl:!0,panControl:!1,streetViewControl:!0,fullscreenControl:!0,disableDefaultUi:!0,overviewMapControl:!0,scrollwheel:!0}}},t._l(t.coordinates,(function(e,o){return s("gmap-marker",{key:o,attrs:{position:t.getPosition(e),clickable:!0,icon:t.getMarkers1(o)},on:{click:function(s){return t.toggleInfo(e,o)}}})})),1)],1)},g=[],f=s(484);s(2117),s(6163);const v={apiKey:"AIzaSyB9RkZFAwtJfZUXYvXZBb2S4GYVSzOkpjE",authDomain:"location-a26be.firebaseapp.com",databaseURL:"https://location-a26be-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"location-a26be",storageBucket:"location-a26be.appspot.com",messagingSenderId:"275944322136",appId:"1:275944322136:web:70f14965096c7dff1e462d",measurementId:"G-2W7W0Z25Y4"};var b=f.Z.apps[0]||f.Z.initializeApp(v),w=s(4029),y=s.n(w),C=14.875811571268388,k=102.01502828868293,x=14.875811571268388,S=102.01502828868293;let R=s(1047),A="http://maps.google.com/mapfiles/kml/pushpin/red-pushpin.png",_="https://i.postimg.cc/bNC9tsGz/icons8-iphone-se-80.png";var j={name:"MapShow",props:{LogoImg:{type:String,default:s(6611)},propNameRover:{type:String,required:!1}},data:function(){return{isActive:!0,namerover:null,rotatestatus:null,user:{username:"matt"},mapMarkerActive:A,iconCar:R,iconUser:_,latitude:0,longitude:0,center:{lat:0,lng:0},locations:[],currentLocation:null,selectedKey:null,selectedMarker:null,coordinates:{0:{lat:C.toString(),lng:k.toString()},1:{lat:x.toString(),lng:S.toString()}}}},computed:{aDouble(){return this.center}},watch:{propNameRover:function(t,e){this.StartgetLocation(t,e)}},mounted(){this.namerover=localStorage.getItem("Name-rover"),this.StartgetLocation(this.namerover,this.namerover),console.log(this.namerover+"55555555"),this.setLocationLatLng()},methods:{StartgetLocation(t,e){console.log(t,e),t!=e&&(this.dbRefRover.off(),this.dbRefUser.off(),this.rotateRover(0)),console.log(t,e),this.dbRefRover=b.database().ref(t+"/location/rover"),this.dbRefUser=b.database().ref(t+"/location/user"),this.dbRefRover.on("value",(t=>{for(const[e,s]of Object.entries(t.val()))"latitude"==e&&(this.latitude=s,C=s),"rotate"==e&&(this.rotatestatus=s,console.log(`${e}: ${s}`),this.rotateRover(this.rotatestatus)),"longitude"==e&&(this.longitude=s,k=s),this.coordinates={0:{lat:C.toString(),lng:k.toString()},1:{lat:x.toString(),lng:S.toString()}}})),this.dbRefUser.on("value",(t=>{console.log(t.val());for(const[e,s]of Object.entries(t.val()))"latitude"==e&&(this.latitude=s,x=s),"longitude"==e&&(this.longitude=s,S=s),this.coordinates={0:{lat:C.toString(),lng:k.toString()},1:{lat:x.toString(),lng:S.toString()}}})),this.center={lat:(C+x)/2,lng:(k+S)/2}},getMarkers(t){return this.selectedKey===t?this.mapMarkerActive:this.mapMarker},getMarkers1(t){return 0==t?this.iconCar:1==t?this.iconUser:void 0},rotateRover(t){y()(`img[src="${R}"]`).css({"-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"})},getPosition:function(t){return{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}},toggleInfo:function(t,e){this.infoPosition=this.getPosition(t),this.selectedMarker=t,this.selectedKey=e,this.infoOpened=!this.infoOpened},closeInfoWindow:function(){this.infoOpened=!1,this.markerOptions=this.mapMarker},setPlace(t){this.currentLocation=t},setLocationLatLng:function(){navigator.geolocation.getCurrentPosition((t=>{this.center={lat:t.coords.latitude,lng:t.coords.longitude}}))}},created(){},beforeDestroy(){}},D=j,O=(0,l.Z)(D,m,g,!1,null,"4793bbee",null),L=O.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"map-section"},[s("gmap-map",{staticStyle:{width:"100%",height:"100%"},attrs:{center:t.center,zoom:17,options:{zoomControl:!0,scaleControl:!0,mapTypeControl:!0,panControl:!1,streetViewControl:!0,fullscreenControl:!0,disableDefaultUi:!0,overviewMapControl:!0,scrollwheel:!0}}},t._l(t.coordinates,(function(e,o){return s("gmap-marker",{key:o,attrs:{position:t.getPosition(e),clickable:!0,icon:t.iconCar},on:{click:function(s){return t.toggleInfo(e,o)}}})})),1)],1)},B=[];let M=s(3172),J="http://maps.google.com/mapfiles/kml/pushpin/red-pushpin.png",N="https://i.postimg.cc/bNC9tsGz/icons8-iphone-se-80.png";var $={name:"MapShow",props:{LogoImg:{type:String,default:s(6611)},propC:{type:String,required:!0}},data:function(){return{readData:null,isActive:!0,namerover:"------",user:{username:"matt"},mapMarkerActive:J,iconCar:M,iconUser:N,latitude:0,longitude:0,center:{lat:14.874827,lng:102.01551},locations:[],currentLocation:null,selectedKey:null,selectedMarker:null,coordinates:{0:{lat:14.874827,lng:102.01551}}}},computed:{SetdatafromHomepage(){let t=this.propC;return console.log(this.propC+"-----------"+this.propC),t}},mounted(){this.dbRef.on("value",(t=>{let e=0;for(const[o,a]of Object.entries(t.val())){console.log(e,o,a);try{this.coordinates[e]={lat:a.location.rover.latitude.toString(),lng:a.location.rover.longitude.toString()}}catch(s){}e++}})),this.setLocationLatLng(),console.log("+++++++++++>"),console.log("<+++++++++++")},methods:{noom(){console.log(this.coordinates)},getMarkers1(t){return console.log(t),this.iconCar},getPosition:function(t){return{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}},toggleInfo:function(t,e){console.log(t,e),this.infoPosition=this.getPosition(t),this.selectedMarker=t,this.selectedKey=e,this.infoOpened=!this.infoOpened},closeInfoWindow:function(){this.infoOpened=!1,this.markerOptions=this.mapMarker},setPlace(t){this.currentLocation=t},setLocationLatLng:function(){navigator.geolocation.getCurrentPosition((t=>{this.center={lat:t.coords.latitude,lng:t.coords.longitude}}))}},created(){this.dbRef=b.database().ref("/"),this.dbRef1=b.database().ref("Rover1/location/user")},beforeDestroy(){this.dbRef.off(),this.dbRef1.off()}},I=$,z=(0,l.Z)(I,P,B,!1,null,"43260a42",null),E=z.exports,T=s(7298),q=s.n(T),Z=s(2970);let X="https://janus.noom.website/janus";console.log(X),"http:"===window.location.protocol&&(X="https://janus.noom.website/janus",console.log(X));var Y={},U={beforeCreate(){b.auth().onAuthStateChanged((t=>{t||this.$router.push("/")}))},components:{Map:L,MapAll:E},data(){return{drawer:null,items:[],check:[],item:[{icon:"mdi-wifi",text:"n",status:!0}],isActiveJoy:!1,isActiveDoor:!1,isOpenDoor:!1,isActiveOpencontorl:!1,StatusDoor:!1,namerover:"N/a",StatusRover:"N/a",Battery:"N/a",Velocity:"N/a",DoorStatus:"N/a",idcamera:0,Hisidcamera:0,countRover:0,mapState:!1,connection:{protocol:"ws",host:"34.143.225.243",port:9001,endpoint:"/mqtt",clean:!0,connectTimeout:3e4,reconnectPeriod:4e3,clientId:"emqx_vue_"+Math.random().toString(16).substring(2,8),username:"test",password:"Test123"},subscription:{qos:0,topic:"rover1/status"},receiveNews:"",qosList:[0,1,2],client:{connected:!1},subscribeSuccess:!1,connecting:!1,retryTimes:0,refStatus:!1,refJoystick:!1,activeauto:!1,janus:null,error:null,plugin:null,status:null,stream:null,streamList:{selected:null,options:[]},remoteTracks:{},remoteVideos:0,textA:"A",textB:"B",textX:"X",textY:"Y",textLB:"Reset"}},mounted(){this.createConnection(),this.interval=setInterval((()=>this.Checkonline()),3e3),Z.c.init({debug:!0,dependencies:Z.c.useDefaultDependencies(),callback:()=>{console.log("Connecting to Janus api with server ",X),this.connect(X)}}),this.dbRef.on("value",(t=>{this.items=[];for(const[e]of Object.entries(t.val()))this.countRover++,Y[e]=this.countRover,this.items.push({text:e,icon:"toys",status:"offline"}),"nnn"==e&&(console.log("+++++++++done++++++++++++++"),this.dbRef.off(),console.log("+++++++++done++++++++++++++")),this.subscription=[],this.subscription={qos:0,topic:e.toLowerCase()+"/status"},this.doSubscribe()}))},methods:{logout(){b.auth().signOut().then((()=>{alert("Successfully logged out"),this.$router.push("/")})).catch((t=>{alert(t.message),this.$router.push("/")}))},reloadPage(){this.mapState=!1},clickAuto(){this.isActiveDoor=!this.isActiveDoor,this.isActiveJoy=!1,this.dbRefAutoBtn=b.database().ref("/"+this.namerover+"/status"),this.isActiveDoor?this.dbRefAutoBtn.update({auto:!0}):this.dbRefAutoBtn.update({auto:!1})},clickDoor(){this.StatusDoor=!0,this.isOpenDoor=!this.isOpenDoor,this.dbRefAutoDoor=b.database().ref("/"+this.namerover+"/status"),this.isOpenDoor?this.dbRefAutoDoor.update({door:!1}):this.dbRefAutoDoor.update({door:!0})},clickJoy(){this.isActiveJoy=!this.isActiveJoy,!0===this.isActiveJoy&&(this.dbRefJoystick=b.database().ref("/"+this.namerover+"/control"),this.refJoystick)},updateSelected(t){this.ActiveJoy=!1,1==this.StatusDoor&&this.dbRefAutoDoor.off(),"started"==this.status&&this.stop(),this.isActiveOpencontorl=!0,this.isActiveDoor=!1;var e="";!0===this.refStatus&&this.dbStatus.off(),console.log(t.text),this.namerover=t.text,localStorage.setItem("Name-rover",this.namerover),this.mapState=!0,this.StatusRover=this.items[Y[t.text]-1].status,e="/"+this.namerover+"/status",this.dbStatus=b.database().ref(e),this.refStatus=!0,this.dbStatus.on("value",(t=>{for(const[e,s]of Object.entries(t.val()))"Battery"==e&&(this.Battery=s+" %"),"velocity"==e&&(this.Velocity=s+" m/s"),"idcam"==e&&(this.idcamera=s,this.Hisidcamera!=this.idcamera&&(this.start(),this.Hisidcamera=this.idcamera)),"door"==e&&(this.DoorStatus=1==s?"Open":"Close"),"auto"==e&&(this.isActiveDoor=1==s)}))},Checkonline(){for(let t=0;t<this.countRover;t++)this.timenow()-this.check[t]>.1?(this.$set(this.items[t],"status","offline"),"N/a"!=this.namerover&&(this.StatusRover=this.items[Y[this.namerover]-1].status)):this.timenow()-this.check[t]<.1&&(this.$set(this.items[t],"status","online"),"N/a"!=this.namerover&&(this.StatusRover=this.items[Y[this.namerover]-1].status))},timenow(){var t=86400;const e=new Date;return e/t},initData(){this.client={connected:!1},this.retryTimes=0,this.connecting=!1,this.subscribeSuccess=!1},handleOnReConnect(){if(this.retryTimes+=1,this.retryTimes>5)try{this.client.end(),this.initData(),this.$message.error("Connection maxReconnectTimes limit, stop retry")}catch(t){this.$message.error(t.toString())}},createConnection(){try{this.connecting=!0;const{protocol:t,host:e,port:s,endpoint:o,...a}=this.connection,i=`${t}://${e}:${s}${o}`;this.client=q().connect(i,a),this.client.on&&(this.client.on("connect",(()=>{this.connecting=!1})),this.client.on("reconnect",this.handleOnReConnect),this.client.on("error",(t=>{console.log("Connection failed",t)})),this.client.on("message",((t,e)=>{this.receiveNews=this.receiveNews.concat(e),this.timemqtt=this.timenow();for(let s=0;s<this.countRover;s++)t==="rover"+(s+1)+"/status"&&(this.check[s]=this.timenow())})))}catch(t){this.connecting=!1,console.log("mqtt.connect error",t)}},doSubscribe(){const{topic:t,qos:e}=this.subscription;this.client.subscribe(t,{qos:e},(t=>{t?console.log("Subscribe to topics error",t):this.subscribeSuccess=!0}))},doUnSubscribe(){const{topic:t}=this.subscription;this.client.unsubscribe(t,(t=>{t&&console.log("Unsubscribe error",t)}))},connect(t){this.janus=new Z.c({server:t,success:()=>{console.log("Connected"),this.attachPlugin()},error:t=>{console.log("Error"),this.onError("Failed to connect janus server",t)},destroyed:()=>{console.log("Destroyed"),window.location.reload()}})},attachPlugin(){this.janus.attach({plugin:"janus.plugin.streaming",opaqueId:"thisisopaqueid",success:t=>{this.plugin=t,console.log("getBitrate : ",this.plugin.getBitrate())},error:t=>{this.onError("Error attaching plugin... ",t)},iceState:t=>{console.log("ICE state changed to ",t)},webrtcState:t=>{console.log("Janus says our WebRTC PeerConnection is "+(t?"up":"down")+" now")},slowLink:(t,e,s)=>{console.log("Janus reports problems "+(t?"sending":"receiving")+" packets on mid "+s+" ("+e+" lost packets)")},onmessage:(t,e)=>{console.log(" ::: Got a message :::",t);let s=t.result;if(s)s.status&&(this.status=s.status);else if(t.error)return this.onError(t.error),void this.stop();if(e){Z.c.debug("Handling SDP as Well... ",e);let t=-1!==e.sdp.indexOf("stereo=1");this.plugin.createAnswer({jsep:e,media:{audioSend:!1,videoSend:!1,data:!0},customizeSdp:e=>{t&&-1==e.sdp.indexOf("stereo=1")&&(e.sdp=e.sdp.replace("useinbandfec=1","useinbandfec=1;stereo=1"))},success:t=>{Z.c.debug("Got SDP!",t);let e={request:"start"};this.plugin.send({message:e,jsep:t})},error:t=>{this.onError("WebRTC Error: ",t),alert("WebRTC error... ",t)}})}},onremotetrack:(t,e,s)=>{Z.c.debug("Remote track (mid="+e+") "+(s?"added":"removed")+":",t),"video"===t.kind&&(this.remoteVideos++,this.stream=new MediaStream,this.stream.addTrack(t.clone()),this.remoteTracks.mid=this.stream,Z.c.log("Created remote audio stream:",this.stream))},oncleanup:()=>{this.onCleanup()}})},updateStreamsList(){this.plugin.send({message:{request:"list"},success:t=>{t||this.onError("Got no response to our query for available streams."),this.streamList.options=t.list,t.list.length&&(this.streamList.selected=this.streamList.options[0].id)}})},start(){this.plugin.send({message:{request:"watch",id:this.idcamera}})},stop(){this.plugin.send({message:{request:"stop"}}),this.plugin.hangup()},onCleanup(){Z.c.log(" ::: Got a cleanup notification :::"),this.stream=null,this.status=null,this.remoteTracks={},this.remoteVideos=0,this.error=null},onError(t,e=""){Z.c.error(t,e),this.error=t+e,alert(this.error,(function(){window.location.reload()}))},pressedA(t){this.textA="Click",console.log("pressA",t),this.dbRefJoystick.set({forword:0,backword:1,right:0,left:0})},releasedA(){this.textA="A",this.dbRefJoystick.set({forword:0,backword:0,right:0,left:0})},pressedX(t){this.textX="Click",console.log("pressX",t),this.dbRefJoystick.set({forword:0,backword:0,right:0,left:1})},releasedX(){this.textX="X",this.dbRefJoystick.set({forword:0,backword:0,right:0,left:0})},pressedY(t){this.textY="Click",console.log("pressY",t),this.dbRefJoystick.set({forword:1,backword:0,right:0,left:0})},releasedY(){this.textY="Y",this.dbRefJoystick.set({forword:0,backword:0,right:0,left:0})},pressedB(t){this.textB="Click",console.log("pressB",t),this.dbRefJoystick.set({forword:0,backword:0,right:1,left:0})},releasedB(){this.textB="B",this.dbRefJoystick.set({forword:0,backword:0,right:0,left:0})},pressedReset(t){this.textLB="Click",console.log("pressLB",t),this.dbRefJoystick.set({forword:0,backword:0,right:0,left:0})},releasedReset(){this.textLB="Reset",this.dbRefJoystick.set({forword:0,backword:0,right:0,left:0})}},created(){this.dbRef=b.database().ref("/")},beforeDestroy(){this.dbRef.off(),this.dbStatus.off()}},V=U,W=(0,l.Z)(V,h,p,!1,null,null,null),G=W.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"fill-height ma-0 pa-0",attrs:{fluid:""}},[o("v-card",{staticClass:"fill-height rounded-0 d-flex justify-center align-center",attrs:{color:"black",width:"100%",dark:""}},[o("v-card",{staticClass:"rounded-0",attrs:{color:"black",light:"",height:"70vh",width:"60vw"}},[o("v-row",[o("v-col",[o("v-card",{staticClass:"d-flex align-center ",attrs:{height:"70vh",color:"transparent"}},[o("img",{attrs:{height:"400vh",src:s(9504),alt:""}})])],1),o("v-col",[o("v-card",{staticClass:"rounded-xl",attrs:{height:"70vh"}},[o("v-card",{attrs:{flat:"",color:" d-flex align-center justify-center ",height:"10vh"}},[o("div",{staticClass:"headerstext"},[o("p",{staticClass:"mb-n8 pa-0"},[t._v("User Login")])])]),o("v-card",{staticClass:"d-flex align-center justify-center rounded-0",attrs:{flat:"",height:"10vh"}},[o("div",{staticClass:"titletext text-center"},[o("p",{staticClass:"ma-0 pa-0"},[t._v("Enter your username & password")]),o("p",{staticClass:"mt-0"},[t._v("to get sign in your account")])])]),o("v-card",{staticClass:"d-flex align-center justify-center rounded-0",attrs:{flat:"",height:"20vh"}},[o("v-form",[o("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Email",type:"text",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),o("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password",rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),o("v-card",{staticClass:"d-flex align-center justify-center rounded-0",attrs:{flat:"",height:"10vh"}},[o("v-btn",{attrs:{color:"black",dark:""},on:{click:t.login}},[t._v("Sign in")])],1),o("v-card",{staticClass:"d-flex align-center justify-center",attrs:{flat:"",height:"20vh"}},[o("div",{staticClass:"textics text-center"},[o("p",{staticClass:"ma-0 pa-0"},[t._v(" Autonomous Delivery | by iCreative Systems ")])])])],1)],1)],1)],1)],1)],1)},K=[],H={name:"LoginPage",beforeCreate(){b.auth().onAuthStateChanged((t=>{t&&this.$router.push("/home")}))},data:function(){return{email:"",password:"",emailRules:[],passwordRules:[t=>!!t||"Please type password.",t=>t&&t.length>=8||"minimum 8 characters"]}},watch:{email:function(t){""!==t?(this.emailRules=[t=>t.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||"Invalid Email address"],console.log(this.emailRules)):""===t&&(this.emailRules=[])}},methods:{login(t){console.log(this.email,this.password),b.auth().signInWithEmailAndPassword(this.email,this.password).then((t=>{this.$router.replace("/home"),console.log(t)}),(t=>{alert(t.message)})),t.preventDefault()},loginWithProvider(t){console.log(t);var e=new b.auth.GoogleAuthProvider;b.auth().signInWithPopup(e).then((t=>{this.$router.replace("home"),console.log(t)}),(t=>{alert(t.message)}))}}},Q=H,tt=(0,l.Z)(Q,F,K,!1,null,null,null),et=tt.exports;o["default"].use(u.Z);const st=[{path:"/home",name:"homepageView",component:G,meta:{title:"Login",icon:"../assets/img/Rovericon.svg"}},{path:"/",name:"loginView",component:et}],ot=new u.Z({mode:"history",base:"/",routes:st});var at=ot,it=s(8209),rt=s.n(it);s(243);o["default"].use(rt());const nt={theme:{light:!0},icons:{iconfont:"mdi"}};var lt=new(rt())(nt),ct=s(9449),dt=s(6131),ut=s.n(dt);o["default"].use(ut()),o["default"].use(ct,{load:{key:"AIzaSyD553x-on9CsDmxWaD3rfKg2l3MX48kov8",libraries:"places,drawing,visualization"}}),o["default"].config.productionTip=!1,new o["default"]({vuetify:lt,router:at,render:t=>t(d)}).$mount("#app")},9504:function(t,e,s){t.exports=s.p+"img/Classgologologin.283c91b5.svg"},2763:function(t,e,s){t.exports=s.p+"img/Classlogo.6cca0a51.svg"},1047:function(t,e,s){t.exports=s.p+"img/Roverclass.1b5b76aa.svg"},9030:function(t,e,s){t.exports=s.p+"img/Rovericon.9f388094.svg"},3172:function(t,e,s){t.exports=s.p+"img/rovertop.416d30ea.svg"},6611:function(t,e,s){t.exports=s.p+"img/class_front.e9f22526.png"}},e={};function s(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,o,a,i){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],a=t[d][1],i=t[d][2];for(var n=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(n=!1,i<r&&(r=i));if(n){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[o,a,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,i,r=o[0],n=o[1],l=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(e&&e(o);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},o=self["webpackChunkwebrover"]=self["webpackChunkwebrover"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(2610)}));o=s.O(o)})();
//# sourceMappingURL=app.5735867c.js.map